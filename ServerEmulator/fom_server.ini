# FoM Server Emulator config (defaults)
# This file is read on startup and sets env vars if they are not already defined.

[server]
; UDP listen port for the emulator (default: 61000)
PORT=61000
; Server role: master|world (default: master)
SERVER_MODE=master
; IP returned in the login response (default: 127.0.0.1)
WORLD_IP=127.0.0.1
; Port returned in the login response (default: 62000)
WORLD_PORT=62000
; IP advertised in RakNet open-connection reply (default: 127.0.0.1)
REPLY_IP=127.0.0.1
; Port advertised in RakNet open-connection reply (default: 61000)
REPLY_PORT=61000
; Optional bind IP for UDP server (default: empty)
BIND_IP=
; Optional server IP alias used by reply IP selection (default: empty)
SERVER_IP=

[logging]
; Disable almost all console output (default: 0)
QUIET_MODE=0
; Alternate quiet flag (alias for QUIET_MODE; default: empty)
FOM_QUIET_LOGS=
; Console packet log mode: off|summary|full (default: summary)
PACKET_LOG=full
; Minimum ms between console logs (default: 5000)
PACKET_LOG_INTERVAL_MS=0
; Enable packet log file output (default: 1)
PACKET_LOG_FILE=1
; Enable analysis lines for logged packets (default: 0)
PACKET_LOG_ANALYSIS=0
; Console allowlist of packet IDs (inner ID for reliable packets; default: empty)
PACKET_LOG_IDS=
; File allowlist of packet IDs (inner ID for reliable packets; default: empty)
PACKET_LOG_FILE_IDS=
; Drop noisy packet IDs (inner ID for reliable packets; default: empty)
PACKET_LOG_IGNORE_IDS=
; Suppress repeated console logs for identical packets (ms; default: 2000)
PACKET_LOG_REPEAT_SUPPRESS_MS=2000
; Flush packet log to disk: off|login|always (default: off)
PACKET_LOG_FLUSH=off
; Packet handler verbose logging (default: 0)
PACKET_HANDLER_VERBOSE=0
; Extra login debug logs (default: 0)
LOGIN_DEBUG=1
; Send minimal 0x6D session string (empty) for crash isolation (default: 0)
LOGIN_RESPONSE_MINIMAL=0
; Throttle for handler logs (ms; default: 5000)
PACKET_HANDLER_LOG_THROTTLE_MS=5000
; Fail fast when bit order mismatches are detected (default: 0)
BIT_ORDER_STRICT=1

[lith_debug]
; Number of LithTech packets to dump after trigger (default: 0)
LITH_DEBUG_BURST=0
; Trigger mode: none|on_connect|first_lith (default: none)
LITH_DEBUG_TRIGGER=none
; Bytes of payload to show per LithTech message (default: 48)
LITH_DEBUG_HEX_BYTES=48
; Dump raw reliable payloads (default: 0)
LITH_DEBUG_RAW=0
; Raw dump byte limit (default: 512)
LITH_DEBUG_RAW_BYTES=512
; Raw dump min size filter (default: 0)
LITH_DEBUG_RAW_MIN=0
; Raw dump max size filter (default: 0)
LITH_DEBUG_RAW_MAX=0
; Enable LithTech pattern scan (default: 0)
LITH_DEBUG_SCAN=0
; Allow any msg IDs in scan (default: 0)
LITH_DEBUG_SCAN_ANY=0
; Max scan hits per packet (default: 12)
LITH_DEBUG_SCAN_MAX=12
; Max bytes to show per scan hit (default: 32)
LITH_DEBUG_SCAN_PAYLOAD_BYTES=32
; Emit bit-level dumps (default: 0)
LITH_DEBUG_BITS=0
; Bits per line for bit dumps (default: 128)
LITH_DEBUG_BITS_PER_LINE=128
; Max bits to dump (0 = no limit; default: 0)
LITH_DEBUG_BITS_MAX=0
; Include optional "has more" flag in LithTech parsing (default: 0)
LITH_HAS_MORE_FLAG=0
; Force login when first LithTech packet arrives (default: 0)
FORCE_LOGIN_ON_FIRST_LITH=0
; Enable lith debug log file (default: 0)
LITH_DEBUG_LOG=0
; Path for lith debug log file (default: logs/lithdebug.log)
LITH_DEBUG_LOG_PATH=logs/lithdebug.log

[login]
; Login blob size in bytes per blob (doc: 2048-bit = 256 bytes; default: 256)
FOM_LOGIN_BLOB_BYTES=256
; Login blob size in bits (used if BYTES=0; default: 0)
FOM_LOGIN_BLOB_BITS=0
; Require credentials before accepting login (default: 0)
LOGIN_REQUIRE_CREDENTIALS=0
; Resend 0x6D when duplicate 0x6C arrives (default: 1)
LOGIN_RESEND_DUPLICATE_6D=0

[world]
; Send protocol version packet after 0x6E auth (default: 1 for world mode)
WORLD_SEND_PROTOCOL=1
; Send ID packet after 0x6E auth (default: 1 for world mode)
WORLD_SEND_ID=1

[files]
; Send file list transfer (0x32) on world connect (default: 1 for world mode)
FOM_FILE_LIST=1
; Max payload bytes per 0x32 packet (default: 1024)
FOM_FILE_LIST_MAX_BYTES=1024
; Root folder for file list mapping (default: Client/Resources if present)
FOM_FILE_ROOT=
; Path to persisted file id map (default: ServerEmulator/file_id_map.json)
FOM_FILE_ID_MAP=

[raknet]
; Optional Huffman table override (default: ServerEmulator/huffman_table_runtime.json)
FOM_HUFFMAN_TABLE=huffman_table_runtime.json

[rsa]
; RSA endianness for blocks (default: little)
FOM_RSA_ENDIAN=little
; RSA public exponent (hex, no 0x; default: 10001)
FOM_RSA_PUBLIC_E_HEX=10001
; RSA modulus byte length (FoM key is 512-bit => 64 bytes; default: 64)
FOM_RSA_MODULUS_BYTES=64
; RSA private P (hex; default: empty)
FOM_RSA_PRIVATE_P_HEX=
; RSA private Q (hex; default: empty)
FOM_RSA_PRIVATE_Q_HEX=
; RSA modulus N (hex; default: empty)
FOM_RSA_PRIVATE_N_HEX=
; RSA private exponent D (hex; default: empty)
FOM_RSA_PRIVATE_D_HEX=

[config]
; Explicit env file path (default: empty)
FOM_RSA_ENV=
; Alternate env file path alias (default: empty)
FOM_KEY_ENV=
; Explicit ini path (default: empty)
FOM_INI=
; Alternate ini path alias (default: empty)
FOM_CONFIG_INI=
; Overwrite ini snapshot on startup (default: 0)
FOM_CONFIG_OVERWRITE=0
